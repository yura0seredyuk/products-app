(this["webpackJsonpproducts-app"]=this["webpackJsonpproducts-app"]||[]).push([[0],{108:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),r=c(14),o=c.n(r),i=c(21),s=c(17),d=(c(86),c(31)),l=c(134),j=c(136),u=c(138),b=c(143),h=c(140),O=c(139),p=c(142),m=c(141),x=c(145),f=c(33),g=c.n(f),v=c(144),y=(c(48),c(43)),C=c(4),S=Object(y.a)("1234567890",4),k={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};g.a.setAppElement("#root");var w=Object(l.a)({root:{maxWidth:345}}),D=function(t){var e,c=t.productName,r=t.productDescription,o=t.productWeight,i=t.productSize,l=t.productId,b=t.productImageUrl,f=w(),y=Object(n.useState)(""),D=Object(s.a)(y,2),E=D[0],N=D[1],P=Object(n.useState)(""),I=Object(s.a)(P,2),z=I[0],A=I[1],W=d.a.firestore().collection("Products/".concat(l,"/comments/")),F=d.a.firestore().collection("Products"),U=Object(n.useState)(c),B=Object(s.a)(U,2),R=B[0],L=B[1],M=Object(n.useState)(r),Q=Object(s.a)(M,2),q=Q[0],J=Q[1],T=Object(n.useState)(o),V=Object(s.a)(T,2),Z=V[0],G=V[1],H=a.a.useState(!1),K=Object(s.a)(H,2),X=K[0],_=K[1];function Y(){_(!1)}Object(n.useEffect)((function(){W.onSnapshot((function(t){var e=[];t.forEach((function(t){e.push(t.data())})),A(e)}))}),[]);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(j.a,{className:f.root,children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(O.a,{component:"img",alt:c,height:"100",image:b,title:c}),Object(C.jsxs)(h.a,{children:[Object(C.jsx)(m.a,{gutterBottom:!0,variant:"h4",component:"h2",children:c}),Object(C.jsx)(m.a,{variant:"h5",children:r}),Object(C.jsx)(m.a,{variant:"body2",color:"textSecondary",component:"p",children:"Weight: ".concat(o,"g.")}),Object(C.jsx)(m.a,{variant:"body2",color:"textSecondary",component:"p",children:"Height: ".concat(i&&i.height,"mm Width: ").concat(i&&i.width,"mm")}),Object(C.jsx)(x.a,{m:2,children:Object(C.jsx)(p.a,{variant:"contained",onClick:function(){_(!0)},children:"Edit details"})}),Object(C.jsx)(m.a,{children:"Comments:"}),z&&z.map((function(t){return Object(C.jsxs)(x.a,{children:[Object(C.jsx)(m.a,{children:t.description?"# ".concat(t.description):Object(C.jsx)(C.Fragment,{children:"No comments"})}),Object(C.jsx)(m.a,{children:t.date&&"Date: ".concat(new Date(t.date.seconds).toLocaleDateString())}),Object(C.jsx)(x.a,{m:2,children:Object(C.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return function(t){W.doc(t.id).delete().catch((function(t){console.error(t)}))}(t)},children:"X"})})]},t.id)})),Object(C.jsxs)("form",{className:f.root,noValidate:!0,autoComplete:"off",children:[Object(C.jsx)(v.a,{type:"text",id:"standard-basic",label:"Comment",value:E,onChange:function(t){return N(t.target.value)}}),Object(C.jsx)(x.a,{m:2,children:Object(C.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){var t;t={description:E,id:S(),productId:l,date:new Date},W.doc(t.id).set(t).catch((function(t){console.error(t)}))},children:"Add Comment"})})]}),Object(C.jsxs)(g.a,{isOpen:X,onAfterOpen:function(){e.style.color="black"},onRequestClose:Y,style:k,contentLabel:"Example Modal",children:[Object(C.jsx)("h2",{ref:function(t){return e=t},children:"Edit details"}),Object(C.jsxs)("form",{children:[Object(C.jsx)(x.a,{children:"Name:"}),Object(C.jsx)(v.a,{id:"standard-basic",value:R,onChange:function(t){L(t.target.value)}}),Object(C.jsx)(x.a,{children:"Description:"}),Object(C.jsx)(v.a,{id:"standard-basic",value:q,onChange:function(t){J(t.target.value)}}),Object(C.jsx)(x.a,{children:"Weight:"}),Object(C.jsx)(v.a,{id:"standard-basic",value:Z,onChange:function(t){G(t.target.value)}}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(p.a,{onClick:function(){return t={name:R,description:q,weight:Z,id:l},void F.doc(t.id).update(t).catch((function(t){console.error(t)}));var t},children:"Save"}),Object(C.jsx)(p.a,{onClick:Y,children:"Close details"})]})]})]})]})]})})})},E=Object(l.a)({root:{maxWidth:345}});function N(t){var e=t.products,c=t.deleteProduct,n=E();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(x.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",children:e.map((function(t){return Object(C.jsxs)(x.a,{m:2,children:[Object(C.jsxs)(j.a,{className:n.root,children:[Object(C.jsxs)(u.a,{children:[Object(C.jsx)(O.a,{component:"img",alt:t.name,height:"140",image:t.imageUrl,title:t.name}),Object(C.jsxs)(h.a,{children:[Object(C.jsx)(m.a,{gutterBottom:!0,variant:"h4",component:"h2",children:t.name}),Object(C.jsx)(m.a,{variant:"body1",children:"Products left: ".concat(t.count)})]})]}),Object(C.jsxs)(b.a,{children:[Object(C.jsx)(x.a,{m:2,children:Object(C.jsx)(p.a,{variant:"contained",color:"primary",children:"Learn More"})}),Object(C.jsx)(x.a,{m:2,children:Object(C.jsx)(p.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return c(t)},children:"Delete product"})})]})]}),Object(C.jsx)(D,{productName:t.name,productDescription:t.description,productWeight:t.weight,productSize:t.size,productImageUrl:t.imageUrl,productId:t.id})]},t.id)}))})})}var P=c(63),I=Object(y.a)("1234567890",4),z=Object(l.a)((function(t){return{root:{"& .MuiTextField-root":{margin:t.spacing(1),width:"25ch"}}}})),A={content:{width:"600px",top:"20%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function W(){var t,e=Object(n.useState)(""),c=Object(s.a)(e,2),a=c[0],r=c[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),d=i[0],l=i[1],j=Object(n.useState)(""),u=Object(s.a)(j,2),b=u[0],h=u[1],O=Object(n.useState)({}),m=Object(s.a)(O,2),f=m[0],y=m[1],S=Object(n.useState)(""),k=Object(s.a)(S,2),w=k[0],D=k[1],E=Object(n.useState)(!1),N=Object(s.a)(E,2),W=N[0],F=N[1],U=Object(n.useState)(""),B=Object(s.a)(U,2),R=B[0],L=B[1],M=P.a.firestore().collection("Products"),Q=z();function q(){F(!1)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(x.a,{m:2,children:Object(C.jsx)(p.a,{variant:"outlined",color:"primary",onClick:function(){F(!0)},children:"Add new Product"})}),Object(C.jsxs)(g.a,{isOpen:W,onAfterOpen:function(){t.style.color="#grey"},onRequestClose:q,style:A,contentLabel:"Example Modal",children:[Object(C.jsx)("h2",{ref:function(e){return t=e},children:"ADD NEW PRODUCT"}),Object(C.jsxs)("form",{className:Q.root,noValidate:!0,autoComplete:"off",children:[Object(C.jsx)(v.a,{type:"text",id:"standard-basic",label:"Name",value:a,onChange:function(t){return r(t.target.value)}}),Object(C.jsx)(v.a,{type:"number",id:"standard-basic",label:"Count",value:d,onChange:function(t){return l(t.target.value)}}),Object(C.jsx)(v.a,{type:"text",id:"standard-basic",label:"ImageUrl",value:w,onChange:function(t){return D(t.target.value)}}),Object(C.jsx)(v.a,{type:"text",id:"standard-basic",label:"Weight",value:b,onChange:function(t){return h(t.target.value)}}),Object(C.jsx)(v.a,{type:"text",id:"standard-basic",label:"Size",onChange:function(t){var e=t.target.value.split("x");y({height:e[0],width:e[1]})}}),Object(C.jsx)(v.a,{type:"text",id:"standard-basic",label:"Description",onChange:function(t){return L(t.target.value)}}),Object(C.jsxs)(x.a,{m:2,display:"flex",children:[Object(C.jsx)(x.a,{mr:2,children:Object(C.jsx)(p.a,{variant:"outlined",color:"primary",onClick:q,children:"Cancel"})}),Object(C.jsx)(x.a,{children:Object(C.jsx)(p.a,{variant:"outlined",color:"primary",onClick:function(){var t;t={id:I(),name:a,count:d,imageUrl:w,weight:b,size:f,description:R,comments:[]},M.doc(t.id).set(t).catch((function(t){console.error(t)})),F(!1)},children:"Submit"})})]})]})]})]})}g.a.setAppElement("#root");var F=function(){var t=Object(n.useState)([]),e=Object(s.a)(t,2),c=e[0],a=e[1],r=d.a.firestore().collection("Products");return Object(n.useEffect)((function(){r.onSnapshot((function(t){var e=[];t.forEach((function(t){e.push(t.data())})),a(e)}))}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(x.a,{m:2,fontSize:40,fontFamily:"Roboto",children:"Product list"}),Object(C.jsxs)(x.a,{m:2,display:"flex",children:[Object(C.jsx)(x.a,{mr:2,children:Object(C.jsx)(p.a,{variant:"contained",onClick:function(){var t=Object(i.a)(c).sort((function(t,e){return t.name.localeCompare(e.name)}));a(t)},children:"Sort by name"})}),Object(C.jsx)(x.a,{children:Object(C.jsx)(p.a,{variant:"contained",onClick:function(){var t=Object(i.a)(c).sort((function(t,e){return t.count-e.count}));a(t)},children:"Sort by count"})})]}),Object(C.jsx)(W,{}),Object(C.jsx)(N,{products:c,deleteProduct:function(t){r.doc(t.id).delete().catch((function(t){console.error(t)}))}})]})})},U=c(64);d.a.initializeApp({apiKey:"AIzaSyBSZDPFopZP_72U7aGNOjbxQQB4f618zbQ",authDomain:"products-app-5d772.firebaseapp.com",projectId:"products-app-5d772",storageBucket:"products-app-5d772.appspot.com",messagingSenderId:"635234318516",appId:"1:635234318516:web:0d9169d9726648894b7fe1"}),o.a.render(Object(C.jsx)(U.a,{children:Object(C.jsx)(F,{})}),document.getElementById("root"))},86:function(t,e,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.01f0e204.chunk.js.map