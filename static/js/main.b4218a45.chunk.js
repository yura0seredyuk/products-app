(this["webpackJsonpproducts-app"]=this["webpackJsonpproducts-app"]||[]).push([[0],{108:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),r=c(14),i=c.n(r),o=c(64),s=c(31),d=c(21),j=c(17),l=(c(86),c(142)),u=c(145),b=c(134),h=c(136),O=c(138),p=c(143),m=c(140),x=c(139),f=c(141),g=c(33),v=c.n(g),y=c(144),C=(c(48),c(43)),S=c(4),w=Object(C.a)("1234567890",4),E={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};v.a.setAppElement("#root");var k=Object(b.a)({root:{maxWidth:345}}),D=function(t){var e,c=t.productName,r=t.productDescription,i=t.productWeight,o=t.productSize,d=t.productId,b=t.productImageUrl,p=k(),g=Object(n.useState)(""),C=Object(j.a)(g,2),D=C[0],I=C[1],N=Object(n.useState)(""),P=Object(j.a)(N,2),W=P[0],z=P[1],A=Object(n.useState)(c),q=Object(j.a)(A,2),F=q[0],U=q[1],B=Object(n.useState)(i),R=Object(j.a)(B,2),M=R[0],L=R[1],Q=Object(n.useState)(r),J=Object(j.a)(Q,2),T=J[0],Z=J[1],G=s.a.firestore().collection("Products/".concat(d,"/comments/")),H=s.a.firestore().collection("Products"),K=a.a.useState(!1),V=Object(j.a)(K,2),X=V[0],_=V[1];function Y(){_(!1)}Object(n.useEffect)((function(){G.onSnapshot((function(t){var e=[];t.forEach((function(t){e.push(t.data())})),z(e)}))}),[]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(h.a,{className:p.root,children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{component:"img",alt:c,height:"100",image:b,title:c}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(f.a,{gutterBottom:!0,variant:"h4",component:"h2",children:c}),Object(S.jsx)(f.a,{variant:"body1",children:r}),Object(S.jsx)(f.a,{variant:"body2",color:"textSecondary",component:"p",children:"Weight: ".concat(i,"g.")}),Object(S.jsx)(f.a,{variant:"body2",color:"textSecondary",component:"p",children:"Height: ".concat(o&&o.height,"mm")+" Width: ".concat(o&&o.width,"mm")}),Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(l.a,{variant:"contained",onClick:function(){_(!0)},children:"Edit details"})}),Object(S.jsx)(f.a,{children:"Comments:"}),W&&W.map((function(t){return Object(S.jsxs)(u.a,{children:[Object(S.jsx)(f.a,{children:t.description?"# ".concat(t.description):Object(S.jsx)(S.Fragment,{children:"No comments"})}),Object(S.jsx)(f.a,{children:t.date&&"Date: ".concat((new Date).toISOString().slice(0,10))}),Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){return function(t){G.doc(t.id).delete().catch((function(t){throw new Error(t)}))}(t)},children:"X"})})]},t.id)})),Object(S.jsxs)("form",{className:p.root,noValidate:!0,autoComplete:"off",children:[Object(S.jsx)(y.a,{type:"text",id:"standard-basic",label:"Comment",value:D,onChange:function(t){return I(t.target.value)}}),Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){var t;t={description:D,id:w(),productId:d,date:new Date},G.doc(t.id).set(t).catch((function(t){throw new Error(t)})),I("")},children:"Add Comment"})})]}),Object(S.jsxs)(v.a,{isOpen:X,onAfterOpen:function(){e.style.color="black"},onRequestClose:Y,style:E,contentLabel:"Example Modal",children:[Object(S.jsx)("h2",{ref:function(t){return e=t},children:"Edit details"}),Object(S.jsxs)("form",{children:[Object(S.jsx)(u.a,{children:"Name:"}),Object(S.jsx)(y.a,{id:"standard-basic",value:F,onChange:function(t){U(t.target.value)}}),Object(S.jsx)(u.a,{children:"Description:"}),Object(S.jsx)(y.a,{id:"standard-basic",value:T,onChange:function(t){Z(t.target.value)}}),Object(S.jsx)(u.a,{children:"Weight:"}),Object(S.jsx)(y.a,{id:"standard-basic",value:M,onChange:function(t){L(t.target.value)}}),Object(S.jsxs)(u.a,{children:[Object(S.jsx)(l.a,{onClick:function(){return t={name:F,description:T,weight:M,id:d},H.doc(t.id).update(t).catch((function(t){throw new Error(t)})),void _(!1);var t},children:"Save"}),Object(S.jsx)(l.a,{onClick:Y,children:"Close details"})]})]})]})]})]})})})},I=Object(b.a)({root:{maxWidth:345}});function N(t){var e=t.products,c=t.deleteProduct,n=I();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(u.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",children:e.map((function(t){return Object(S.jsx)(u.a,{m:2,children:Object(S.jsxs)(h.a,{className:n.root,children:[Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{component:"img",alt:t.name,height:"140",image:t.imageUrl,title:t.name}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(f.a,{gutterBottom:!0,variant:"h4",component:"h2",children:t.name}),Object(S.jsx)(f.a,{variant:"body1",children:"Products left: ".concat(t.count)})]})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(l.a,{variant:"contained",color:"primary",children:"Learn More"})}),Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(l.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return c(t)},children:"Delete product"})})]})]})},t.id)}))})}),Object(S.jsx)(u.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",children:e.map((function(t){return Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(D,{productName:t.name,productDescription:t.description,productWeight:t.weight,productSize:t.size,productImageUrl:t.imageUrl,productId:t.id})},t.id)}))})]})}var P=c(63),W=Object(C.a)("1234567890",4),z=Object(b.a)((function(t){return{root:{"& .MuiTextField-root":{margin:t.spacing(1),width:"25ch"}}}})),A={content:{width:"600px",top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function q(){var t,e=Object(n.useState)(""),c=Object(j.a)(e,2),a=c[0],r=c[1],i=Object(n.useState)(""),o=Object(j.a)(i,2),s=o[0],d=o[1],b=Object(n.useState)(""),h=Object(j.a)(b,2),O=h[0],p=h[1],m=Object(n.useState)({}),x=Object(j.a)(m,2),f=x[0],g=x[1],C=Object(n.useState)(""),w=Object(j.a)(C,2),E=w[0],k=w[1],D=Object(n.useState)(!1),I=Object(j.a)(D,2),N=I[0],q=I[1],F=Object(n.useState)(""),U=Object(j.a)(F,2),B=U[0],R=U[1],M=P.a.firestore().collection("Products"),L=z();function Q(){q(!1)}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{m:2,children:Object(S.jsx)(l.a,{variant:"outlined",color:"primary",onClick:function(){q(!0)},children:"Add new Product"})}),Object(S.jsxs)(v.a,{isOpen:N,onAfterOpen:function(){t.style.color="#grey"},onRequestClose:Q,style:A,contentLabel:"Example Modal",children:[Object(S.jsx)("h2",{ref:function(e){return t=e},children:"ADD NEW PRODUCT"}),Object(S.jsxs)("form",{className:L.root,autoComplete:"off",onSubmit:function(){var t;t={id:W(),name:a,count:s,imageUrl:E,weight:O,size:f,description:B,comments:[]},M.doc(t.id).set(t).catch((function(t){throw new Error(t)})),q(!1),r(""),g(""),d(""),R(""),k(""),p("")},children:[Object(S.jsx)(y.a,{type:"text",id:"standard-basic",label:"Name",value:a,required:!0,onChange:function(t){return r(t.target.value)}}),Object(S.jsx)(y.a,{type:"number",id:"standard-basic",label:"Count",value:s,required:!0,onChange:function(t){return d(t.target.value)}}),Object(S.jsx)(y.a,{type:"text",id:"standard-basic",label:"ImageUrl",value:E,required:!0,onChange:function(t){return k(t.target.value)}}),Object(S.jsx)(y.a,{type:"text",id:"standard-basic",label:"Weight",value:O,required:!0,onChange:function(t){return p(t.target.value)}}),Object(S.jsx)(y.a,{type:"text",id:"standard-basic",label:"Size",placeholder:"height x width (x required)",required:!0,onChange:function(t){var e=t.target.value.split("x");g({height:e[0],width:e[1]})}}),Object(S.jsx)(y.a,{type:"text",id:"standard-basic",label:"Description",required:!0,onChange:function(t){return R(t.target.value)}}),Object(S.jsxs)(u.a,{m:2,display:"flex",children:[Object(S.jsx)(u.a,{mr:2,children:Object(S.jsx)(l.a,{variant:"outlined",color:"primary",onClick:Q,children:"Cancel"})}),Object(S.jsx)(u.a,{children:Object(S.jsx)(l.a,{type:"submit",variant:"outlined",color:"primary",children:"Submit"})})]})]})]})]})}v.a.setAppElement("#root");var F=function(){var t=Object(n.useState)([]),e=Object(j.a)(t,2),c=e[0],a=e[1],r=s.a.firestore().collection("Products");return Object(n.useEffect)((function(){r.onSnapshot((function(t){var e=[];t.forEach((function(t){e.push(t.data())})),a(e)}))}),[]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(u.a,{m:2,fontSize:40,fontFamily:"Roboto",children:"Product list"}),Object(S.jsxs)(u.a,{m:2,display:"flex",children:[Object(S.jsx)(u.a,{mr:2,children:Object(S.jsx)(l.a,{variant:"contained",onClick:function(){var t=Object(d.a)(c).sort((function(t,e){return t.name.localeCompare(e.name)}));a(t)},children:"Sort by name"})}),Object(S.jsx)(u.a,{children:Object(S.jsx)(l.a,{variant:"contained",onClick:function(){var t=Object(d.a)(c).sort((function(t,e){return t.count-e.count}));a(t)},children:"Sort by count"})})]}),Object(S.jsx)(q,{}),Object(S.jsx)(N,{products:c,deleteProduct:function(t){r.doc(t.id).delete().catch((function(t){throw new Error(t)}))}})]})})};s.a.initializeApp({apiKey:"AIzaSyBSZDPFopZP_72U7aGNOjbxQQB4f618zbQ",authDomain:"products-app-5d772.firebaseapp.com",projectId:"products-app-5d772",storageBucket:"products-app-5d772.appspot.com",messagingSenderId:"635234318516",appId:"1:635234318516:web:0d9169d9726648894b7fe1"}),i.a.render(Object(S.jsx)(o.a,{children:Object(S.jsx)(F,{})}),document.getElementById("root"))},86:function(t,e,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.b4218a45.chunk.js.map